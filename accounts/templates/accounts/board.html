{% extends "accounts/layout.html" %}
{% load crispy_forms_tags %}
{% block title %}

<title>虚拟机管理</title>
{% endblock %}
{% block content%}


<br />
<form method="POST">

    <h3 style="text-align: center;">虚拟机</h2>
        {% csrf_token %}
        <button name="delete" class="btn btn-primary btn-lg btn-block" type="submit">更新虚拟机状态</button>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">虚拟机</th>
                    <th scope="col">IP地址</th>
                    <th scope="col">初始密码</th>
                    <th scope="col">创建时间</th>
                    <th scope="col">状态</th>
                </tr>
            </thead>
            <tbody>
                {% for item in vms %}
                <tr>
                    <th scope="row" class="{% if item.status == 0 %}font-weight-bold{% endif %}">{{ item.vmid }}
                    </th>
                    <td><a href="">{{ item.ipaddr }}</a>
                    </td>
                    <td><a href="">{{ item.password }}</a>
                    </td>
                    <td>
                        {{ item.created_date|date:"F d, Y" }}</td>
                    <td>
                        <div class="custom-control custom-switch">
                            <input name="ids" type="checkbox" class="custom-control-input" value="{{ item.vmid }}"
                                id="{{ item.vmid }}" {% if item.state == 1 %}checked="" {% endif %}>
                            <label class="custom-control-label" for="{{ item.vmid }}"></label>
                        </div>

                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>



</form>


{% endblock %}

{% block footer %}



{% endblock %}